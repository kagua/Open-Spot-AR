## 2024年2月19日

最優先はLocalStorage保存と判断。

さっそくプログラムを組むが、localStorage.setItem()、という1行をいれるだけで、位置情報を取得しなくなる。

なぜ！？

## 2024年2月17日 次の実装に悩む

次の実装は、範囲外のボイス再生、到着スポット保存、マップ表示、を考えている。

### 範囲外ボイス再生

実際やってみると奥が深い。何回も再生されるとウザイし、1回きりにすると意外とすぐに終わってしまう。なので、そもそもボイスありなしの設定を付けたほうがいい。など結構実装が面倒そうに感じている。

### 到着スポット保存

現状、ブラウザをとじたりリロードしたりすると、リセットしてしまうため、もっとも優先度は高い。ブラウザのlocalstrageを使えばいいのかなと思いつつも、保存ボタンとかUIなどの実装で悩む。

### マップ表示

とりあえずGoogleマイマップのリンクでいいかなと思いつつ、Googleマップは2.5万という制限があるのと、マップ表示のリアルタイムの利便性はわかるのだが、複雑になりそうな気もして悩む。

どんなにAIが進化しても、こうした意思決定や設計まではなかなかまだこれからだなと思うが、いい方法はあるのかな。

## 2024年2月14日 東京シャーロック 公開

スポットを順番通りまわる「シーケンシャルエリアガイド」の派生バージョンをつくりました。「ミステリー」

第1弾として、謎解きミステリーのようなストーリーをたどる声ツアーを作りました。

https://otowa.kyouzai.com/20240214284

![tokyo](https://github.com/kagua/Open-Spot-AR/assets/631291/4559600c-664c-4faf-89aa-f02e5d9ea7e5)

東京シャーロックと言いつつ、舞台が横浜駅、というのはまあそっとしておいて下さい。お近くのかたはぜひお試し下さい。

## 2024年2月12日

音ワールドのサイト構成を変えました。声ツアー、開発者向け情報、ブログ、とカテゴリーを整理しました。

カテゴリーURLの /category/ を除去するプラグイン、トップページに特定カテゴリーのみを表示させるプラグイン、を実装しました。

## 2024年2月11日　スタンプラリー追加

ついにスタンプラリー方式を追加しました。

- スポットは何箇所でも設定可能
- スポット侵入で、スポット番号.mp3 が再生
- スポット侵入で、再生フラグをたてて、一度のみ再生
- スポット侵入で、侵入済みをカウントアップ
- 全てのスポットをまわると、終了メッセージを聴くボタンが表示され、ご褒美ボイスが聴けて、ご褒美画像も表示
- まわったスポットには済マーク付与

断念したこと

- スポットから出たらフラグを一度オフにして、再度侵入したら再び再生
- 保存（その日のうちに回らないとダメ、リロードもダメ）

とりあえずの実装を目指したので、断念したことも、本当はあったほうがいいのはわかってるのだけど、一旦は保留。

いやー、これでいわゆるスタンプラリーが出来て、コンプリートご褒美とかもできるようになったから、嬉しいな。

最初、スポット侵入のフラグを導入しなかったから、スポット内で毎回、何度も再生されて、ラップみたいになってた。あと、済マーク処理が意外に面倒で、つねに残り差分を表示させていたので、そこに済マークあるなしをフラグで管理、みたいなのをChatGPTが発想できなかったみたい。面白い。

あと、しれっとループ処理を忘れてたりするのも面白かった。

いやー、これでまた声ツアーを充実させられる。わーい。

## 2024年2月11日 プロジェクト2ヶ月目の振り返り

ちょっと過ぎてしまったけれど、Open Spot AR の推し活をしはじめて約2ヶ月がたった。振り返りもふくめ、ちょっとまとめてみる。

自分的には★がついてるところが、難産だった記憶がある。他はけっこうAIに助けてもらってむしろ楽しかったは楽しかった。やっぱり音声ARって体験量が圧倒的に少ないので、座組みや仕組みをイメージするところが一番たいへんだった。あと、位置情報のズレに慣れるところ、かな。これはほんと経験しか無かった。でもやればやるほど、これって大手でも同じ電波使ってるんだよな、おもしれーってなってってワクワクしたのが新鮮だった。

- コーディング
  - ChatGPTでコーディング　★★★
     - 基本スキーム構築
     - 位置情報トリガー検証
     - シーケンシャルスポットトリガー検証
     - 位置情報記録スクリプト作成
     - その検証
     - Googleマップなどの差分検証
  - Geolocation APIの緯度経度調査
  - 実地調査、スキーム確率
     - 位置情報まわりの技術情報勉強
  - ツアー作成
    - ツアーテンプレ作成
    - ツアー公開
  - GitHub習得
    - GitHubアプリまわり勉強
- デザイン
  - 生成AIでもぴんをデザイン　★★★
  - ネーミング調査　★★★
  - アカウント取得
  - Open Spot AR ネーミング
  - 音ワールドネーミング
  - 声ツアーネーミング
  - フォント探し
- サイト制作
  - WordPressインストール
    - WordPressテンプレ探し
    - WordPressテンプレ調整
    - ドメイン取得　★★★
    - SSL取得
    - プラグイン調査／インストール
  - 記事テンプレ作成　★★★
    - 記事作成
    - 声ツアー１作成
    - 声ツアー１投稿
    - 声ツアー１ツアーページ作成
    - 声ツアー１ツアーページ検証
    - 声ツアー２作成
    - 声ツアー２投稿
    - 声ツアー２ツアーページ作成
    - 声ツアー２ツアーページ検証
  - グッズ作成（pixivFactory作成）
    - pixivFactoryストア作成
    - Tシャツ作成
    - アクリルキーホルダー作成
    - マニュアル投稿
- 広報活動
  - ソニーLocatone問い合わせ
    - ソニー面会
    - Locatone勉強
    - Locatone検証
    - Locatone福井橋渡し
    - Locatoneプレゼン資料作成
  - マニュアル作成　★★★
    - マニュアル電子書籍化
    - マニュアル小冊子印刷
    - マニュアルnote投稿
    - マニュアルkobo申請
  - テーマ曲作成（suno）
  - 市場調査
     - 音声ガイド市場
     - 音声コンテンツ市場
     - ネーミング
     - 音声AR企業
     - 音声ARプラットフォーム

まだあると思うだけど、こうしてみるとけっこうやったなあ。しかも座組含めて、我ながらほんとまんべんなくやった感がある。一人プラットフォーム。

AIの使い勝手が上がったのが大きいと思いつつ、一番時間がかかってるのが、そもそもの建付けを考えるところと、調査と検証のところかなぁ。

何気に音声ガイド市場がないものだから、このあたりの調査が意外と時間がかかる。ただ調べれば調べるほど、音声ARの汎用性の高さが感じられて楽しい。市場はないけれど、ころぼうと思えば転べる市場がたくさんあるのが、なんか飽きないところかも。一番近い市場としては、音声ボット市場というのがあるらしい。電話の自動応答とかね。

https://it.impress.co.jp/articles/-/25257

それでも、2023年が30億だって。小っさ（失礼）。そりゃ大手は見向きもしないわ、いや、なのに入ってくる大手ってどういう目算なのだろう、いつか聴いてみたい。

ツアーガイドとかの市場調査もあるのだけど、観光がからむととたんに海外の話や、インバウンドなどの話が絡んできて、ノイズが多くなって正確な市場規模が把握しづらくなるのが辛い。

https://www.businessresearchinsights.com/jp/market-reports/tourguide-system-market-101091

- 「オンラインツアー」の現状および市場規模について
- 「体験型観光コンテンツ市場の概観」 世界のコト消費と海外旅行
- 数字で見るエンタメ産業　「体験型」「参加型」の市場が拡大 | 2017年3月号 | 事業構想オンライン

このあたりPDFだけど、まあ関係するかもなーしないかもなーと思いつつも、ほんと音声AR、可能性しかなくて楽しい。

さて今後。

早くkobo審査通らないかなぁ。投稿してみてわかったけど、意外と審査ちゃんとしてる。毎回指摘がしてくれて厳しい。ニンゲンがやってる感がある。なので、週末審査が止まるの地味に、やきもきする。作業が止まるのって、まあ仕方ないんだけど、ドライブ感がそがれるので、もやもやする。仕方ないけど。

GooglePLAYはもう無料公開終わってて、Kindleにもデータ投稿までは終わってるから、あとはほんとkoboが通るだけ。今回、URLや誘導がある、っていうので2回蹴られた。なので、全部消したはずだけど、表紙にだけ残ってたり、けっこうキリキリしながら申請した。kobo、こんなきつかったっけ、という印象だけど仕方ない。

koboが通れば、これでKindle申請してKindleでも無料配布して、マニュアルPR系はフェーズワン、いったん終了。アプデスキームへ移行。

なので、次は、ツアーをひたすら作りまくるとかしたい。

- ひたすら声ツアー作成
- どこでも声ツアー作成ページ作成（緯度経度をユーザーが入れてツアーを作れる）
- パンフレット作成して、書面で知人にPR
- そのさい、知人のところのツアーも作成
- もぴんを手描く
- ツアーの新バリエーション（ランダム周り、単発スポット）
- これをちゃんとブログに書く
- 逐一音声番組でPR
- 音声番組用の、音ワールド音声広告作成、番組へ挿入
- WordPressのサイトマップ＆公開？（いや公開はもう少しツアー増えてからかな）
- WordPressの運用記事の固定化・・・かな、どう使うかみたいな
- Googleマップ埋め込みのプログラム更新
- Googleアナリティクス連携
- 音声AR利用促進協議会、設立

という感じで、イラストと、新コードと、知人PRと、ツアー公開、ブログ充実、あたりかな。あとは流れで、音声番組内でPRやコラボでPRとかかな。

discordやイベントもやりたいなーとか、技術書展へ出たいなーとかあるのだけど、なんかこうしてみるともうパツンパツンな気もしてきたな。

本業もちゃんとやらなきゃだしね。

## 2024年2月8日

Open Spot AR のロゴデザインを考えました。

といっても、フォントを選んだ、というだけです。調べたところ、JavaScriptやjQueryといった言語やフレームワークなどは、基本的に1単語なので、デザインしやすい。

また、シンプルなロゴのみ、というのも多く、まああまりデザインを凝らなくてもいいのかな、と思ったので。

で、知らなかったのですが、Googleフォントというのあるのですね。オープンフォントライセンスという比較的ゆるいライセンスで、Webフォントとしても組み込んでいいよ的な感じっぽく、たしかにGoogleらしい。

日本語のフォントもけっこうあって、全然しらなかった。

それで決めたのはこちら。

https://fonts.google.com/specimen/Protest+Revolution?preview.text=Open%20Spot%20AR&preview.size=106&classification=Display&stroke=Sans+Serif&sort=date

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/7850b0b1-9e9d-479e-98de-fba14a1f971c)

いろいろなフォントがありすぎて迷ったけど、最新順に並び替えたら、これが上位にいてもうズギューーーーンって撃ち抜かれた。

Protest Revolution という書体だそうです。ちょっとTシャツとかグッズ作ろう。

## 2024年2月3日 解説PDFを公開しました

声ツアーをつくろう～Geolocation API でつくる簡単無料の音声AR - クリエイターエコノミーニュース公式ショップ - BOOTH

https://kagua.booth.pm/items/5471145

こちらから無料ダウンロードできます。小冊子印刷すると読みやすいように作りましたので、ぜひ。

![スクリーンショット 2024-02-03 001749](https://github.com/kagua/Open-Spot-AR/assets/631291/188e2b93-dc79-4ff2-8048-9b3cc82335d2)

## 2024年1月31日 サンプルコード公開

![a551-2203e0dab6b2](https://github.com/kagua/Open-Spot-AR/assets/631291/ca34d85e-8a54-4432-8a2a-3506e26f2379)

Open Spot AR シーケンシャル・エリア・ガイド（スキップできない連続スポット巡りのツアー）のサンプルコードを公開しました。

https://github.com/kagua/Open-Spot-AR/tree/main/sample

コメントも豊富に入れましたので、タグがわかるかたなら、すぐに運用可能だと思います。ぜひ、楽しい音声ARを作ってくださいね。

BGMは、AI作曲のCREEVOを使いました。CREEVOで作った曲はパブリックドメインですので、使いやすいですね。

https://creevo-music.com/

## 2024年1月30日

ようやくスキームっぽいものができた。現地にいかずGoogleマップ上だけで、座標とURLを取得し、ワークシートにまとめる。

あとは、index.htmlにそれらを配列に書き込み、画像と音声ファイルを用意する。これだけだ。なんだかかつてCD-ROM制作をしていた頃の、オーサリングを思い出す。なつかしいな、楽しい。

位置ゲームは、出来たよ！試して！っていうのが言えないのが辛い。まあ新宿駅とか名古屋駅とか乗降数の多いところを指定して作ればいいのだろうけど、手間も時間もかけさせるからね、ほんと手間かかる。

このあたりは何か良い方法はないのかしら。

とにかく出来た。良かった。Open Spot AR シーケンシャルエリアガイド。

## 2024年1月28日

妻と都内の庭園に行ってきた。スポットの位置情報を採取しまくったのだが、帰宅しまとめようとしたら、思いのほか面倒。旅ノートを帰ってきてゆっくりまとめる、というのを時間をかけてやったことがなかったので、面倒に思ってしまった自分がいた。

画像と位置情報をEXCELにまとめて、スポット名や説明を書き加えて、データベースにするわけだが、意外とボリュームがあって面倒に思ってしまった。まあ、慣れ、なのかなぁ。

## 2024年1月27日

ようやく、それっぽいものが完成しました。

「祝え！**Open Spot AR エリアガイド・シーケンシャル** 誕生の瞬間である。」

https://www.pixiv.net/artworks/74277828

- 配列に登録した 緯度経度/メッセージ/セリフ/画像 を順番にたどる
- ツアーがはじまるとBGMがかかる
- ランダムに回ってゴールとなることはできない（配列の最後がゴール）

ChatGPTをフル活用したのですが、さすがにここまでいきますと、どこまでどう変数と紐づいてなど、アップアップでした。AIが進化したとしても、こうした全体設計やアルゴリズムなどまでは、どう指示を出せばいいのか難しい気はしました。あと、できたプログラムのミスをチェックしてもらったのですが、直っている箇所も何度も指摘されました。ハルシネーションとは違うし、なんでしょうね。

ようやく仕様が固まった。手作り音声ARなので、マップのリアルタイム表示をどうしようかと思ってたのだけど、スポットに入って表示されるときに、都度都度「ここに行け」みたいな指示にして、Googleマップのリンクをタップしてもらえばいいとした。それで、ほぼ解決した。とりあえず、以下の項目を事前に用意できれば、あとはそれぞれ配列に入れれば、なんとかなるような気がしてきた。ようやくアルファ版の完成・・・かな？

- ツアータイトル
- スポット名
- スポットの緯度経度
- スポットのメッセージ
- スポットのGoogleマップリンク
- スポットの画像
- スポットのMP3

というわけで、みなさんのお近くのスポットも作ってみますね。

## 2024年1月25日

![aaaa](https://github.com/kagua/Open-Spot-AR/assets/631291/67a94e49-7133-4351-b5d9-d5acd0a1e23a)

サイトを作りました。サブドメインでSSLとって、Twitterアカウントも開設しました。

https://twitter.com/onseiar

なんとラッキーだったのは、TwitterのIDで、onseiarが空いてました。音声AR、いただきました。

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/b149ae94-217d-44be-b419-71f5ffa5c4ca)

WordPressにはとりあえず最低限のセキュリティとプラグインだけいれて、検索エンジンっぽいテーマを入れて、それっぽくなりました。楽しい。

これであとはツアーのコードをチェックしていきます。

ただ、ドメインとるのを苦労しました。最初、mopin.kyouzai.com でSSL申請したのですが、mopin？？サイト名どうしよう？「もうピンチ」でいいか・・・いや、それじゃホラーツアーくらいしかできんよ、となって、改めてフォルダ名を変えて、WordPressを引っ越ししました。

- フォルダ名を変更
- サブドメインなしでとりあえずアクセス
- wp-config.php に直接URLを記述
- サイトガードプラグインが悪さして、リダイレクトされまくる
- 徐々にサブドメインが反映してきて、httpだけならトップがアクセスできるようになって
- もう少ししたら、https も反映されるようになって、なんとか移設完了

mopin ってフォルダにインストールしたWordPressを、そのフォルダ名を、otowa って変更して、DBはそのまま使えて、移設完了。

思ったよりは簡単にできたのですげーってなりました。ドメイン部分が全部可変になってるんですねえ、ほんと神。

唯一詰まったのは、サイトガードというプラグイン使うと、ログインページのURLがでたらめなものになるから、都度変わってわからなくなる。でも、リダイレクトの設定は残ってるので、htaccessでサイトガードの下りを消したり、プラグインを直接削除したりして、まっさらな状態にするのが意外と面倒だった。もう、どこを変えたか覚えてない、ごめん。

## 2024年1月24日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/8a9d69ce-d489-4398-bef7-c2422c1d5705)

サイトを作った。

ひさしぶりにWordPressをいじって、OpenSpotARのサイトを作った。httpsの申請が通ってから、いろいろと公開しようと思う。

WordPressは公式ディレクトリから探しても、今はすごくおしゃれなものが見つかる。今回は上図のように、ツアーを検索できるものということで、いいのが見つかった。スマホでみるとホントイマドキ。

でも、そういえばサイトの名前を考えてなかったやー、と作ってから思い出した。サブドメインもmopinにしてしまったから、全然想起できないや。まあいいか。

＊＊＊

今日は、ウォーキングしながらライブ配信をした。スマホとボイスレコーダーとピンマイクの調子を試したかったからだ。結果は問題なし。ほんとクリアにとれていた。やっぱり顔の近くにあるとほんときれいにとれる。しかも、DR-07Xで入力も調整できるから、音圧大きくても音割れせずにとれた。あとスタエフのBGMをかませたら、ほんとノイズない。単純にマイク性能の低さからくる音質の悪さだけだった。やったー。

＊＊＊

ライブ配信でスタエフでのお友達がはいってきてくれた。そこで、神戸の話をきいて、神戸でも音声ARのイベントをやっていたとか、いろいろ聴けた。

**🔗神戸市の二宮商店街・二宮市場で音声ARを活用した最先端の恐怖体験を提供**

https://prtimes.jp/main/html/rd/p/000000101.000033788.html

調べると、エーベックスのSARFを使っているようだ。そして、SARFはカクヨムとコラボしてコンテストもやるらしい。そこで、サウンドツアーの脚本が少し公開されていて、ラッキー。こう書くのかー。あと、SARFの月額料金も公開されてた。7万円！・・・高い。やはり法人相手なのか。なので、OpenSpotARの存在意義もありそうですね。がんばるぞ。

**🔗SARF×カクヨム 短編こわ～い話コンテスト 応募要項 - カクヨム**

https://kakuyomu.jp/contests/sarf_contest_2024/detail



## 2024年1月20日

相性を「もぴん」に決めました。

![_6328112c-5f9d-401c-86ac-10271a668221](https://github.com/kagua/Open-Spot-AR/assets/631291/74b2b150-20b9-497a-87a1-1af9dfd5fce3)

OpenSpotARのイメージキャラクターであるピンクのナマケモノ。相性をいろいろと考えていたのですが、決めました。

- 商標検索で「もぴん」はゼロ件
- Twitterでは、やはり10件以上はでてきましたが、まあ個人アカが多かったので、気にせず
- Google検索で、ゆるキャラなどでは、とりあえず上位には無かった
- ボツネタとしては、マッピン、ピンスル、モモピン、ピンピン、ピンポくん、ピン太くん、ピンモモ、モモケモノ、ケモピン など

特徴としては、以下を設定しています。とりあえずAIでも近いものは描けると思いますので、どんどん二次創作して下さい。というか、もともと、マイクロソフトのイメージクリエイターという生成系AIで描いたので、著作権はなくパブリックドメインじゃないかと思っています、CC0ね。

- ピンクのナマケモノ
- 走っている（怠けてない）
- マップのピンを抱いている
- ジト目（白目部分あり）
- 性別不明
- マップにピンを置くことに生きがいを感じている
- 怠けてはいないけど、寝るのは好き
- ピンクのピンにこだわりがあるらしい

というわけで、OpenSpotARのモピンをよろしくお願いします。

## 2024年1月15日

SONYのLocatoneをさわる機会がありました。せっかくなので、LocatoneとOpenSpotAR（Plus Codes変換）の精度比較をしてみました。

あと、OpenSpotARで10回計測した緯度経度の中央値を、Plus Codesに変換したときの位置情報、3つで比較してみました。

![緯度経度調査](https://github.com/kagua/Open-Spot-AR/assets/631291/aeea8bd9-c49a-40d4-930d-8716943e046e)

Locatoneでも、スマホの機種や屋根の有る無しで精度が変わってくるわけですが、それでもこうした屋外ですと、やはり凄いです。私が立っている位置とほぼドンピシャでした。

緯度経度中央値はそれなりに健闘していますね。3つ目のズレているのは、たしかにまわりに樹木がある桜並木でした。Locatoneは補正している感じですかね、やりますね。なので、まあ個人でやるぶんには、OpenSpotARの精度でも行けると思えました。

ところで、海外だとARと絡めないで、たんなる音声ガイドツアーのDXみたいな感じで、マーケットプレイスが成立している。検索フレーズとしては「Audio guides for tourist attractions」なるほどね。

https://voicemap.me/tour/barcelona/barcelona-walking-tour-landmarks-and-legends-of-el-born-and-ciutadella-park/sites

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/20399066-fe16-4f6e-a90a-f1a671edc862)

そうだよな。その場にいって、その場で再生で、いいものな。

## 2024年1月14日

人流などがわかるマップを調べました。調べるといろいろあるのですね、使えると楽しそうです。

### RESAS

https://resas.go.jp/traveltime-city/#/map/13/13101/0/8/9.881229721054606/35.76724754328527/139.77225257662946

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/2ca84150-e632-4920-8e93-171102e4854a)

### Yahoo!混雑レーダー

https://map.yahoo.co.jp/congestion?lat=35.72275&lon=139.73392&zoom=12&maptype=basic

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/99b96697-323c-4710-b459-3c5df8197bbf)

### モバイル空間統計

https://mobakumap.jp/#35.693157,139.704604,14z

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/ab647b8b-bb88-4ebc-a91b-180218507724)

使いかたがわかると楽しそうですね。ただ、人流だけをみるとやっぱり駅が圧倒的ですね。池袋・新宿・渋谷が圧倒的。このあたりで使えるツアーがやっぱりいいのかな。

### Mini Tokyo 3D

https://minitokyo3d.com/

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/36ab2c8a-f3a9-480e-bf42-c210ad6ffb6d)


## 2024年1月13日

オーディオ周りを調べた。

スマホを片手に音声を聴き散策をする。そのとき、知人と音声を共有したいというケースも多いはずだ。

ただ調べてみると、音声の共有というのはなかなかに難しいっぽい。たしかに、著作権的には共有となってしまうため、電波を送信する側には何らかの制限がつくのは想像にかたくない。

https://jp.creative.com/p/headphones-headsets/creative-zen-hybrid-pro

Bluetooth LEという規格がある。iPhoneには搭載されておらず、AndroidでもXperia1 Ⅳ、Xperia5 Ⅳだけのようだ。そして、LC3というコーデックに対応したヘッドフォン（イヤホン）が必要となる。これはかなりに壁が高そうだ。以前、aptX LLという低遅延の規格を調べたことがあったが、これも普及はほぼしていないといってよいくらいだ。

音声ARでは音を共有できない、と現状では実質言えそうだ。知人とであれば、エアポッズを片方づつ聴くのが現実的になりそうだ。

## 2024年1月8日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/2ec4a74b-dab5-40ca-bc6b-845ecb106dfa)

ARアプリも何気にひろがっているよね。マツケンサンバのキャンペーンがあって、コラボカフェでマークを読み取るとマツケンARが体験できるという。

https://document.styly.cc/doc/docs/en/experience/experience_intro/

STYLYというプラットフォーム、知らなかった。個人や非営利なら無料で使えるっぽい。活動としては2014年からやっているらしい、歴史ある。いっぽうで、10年近く活動していての現状、という意味ではやっぱりARとかメタバースとかVRって、そういうものだよなと感じる。いや、よくもわるくもだし、活動できているということは売上があるわけだから、それだけでリスペクトだし。

https://styly.cc/ja/pro/

ユーザー行動はこう。

- STYLEアプリを起動する
- マーカーの場所に行く
- スマホを出す
- アプリを起動する
- マーカーを読み取る
- スマホを見る

利用されているプラットフォームという安定感はある一方で、プラットフォーム依存ではある。ただ、画面で3DでARというのは、拡散が期待できるので、やはり強いなと感じた。

## 2024年1月6日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/36317572-a868-4cbf-a119-d61ec8a5297a)

ひさしぶりの更新。緯度経度で特定範囲（エリア）を指定できるのか調べたら、やっぱりすでに技術やスキームがあって、それなりに世界があることがわかった。ほんと面白い。

### 位置情報の特定範囲の指定

- **OpenStreetMap (OSM)**: OpenStreetMapは、ボランティアが作成し編集する無料の世界地図です。行政区域の境界データも提供しており、特定のツールを使用してこれらのデータを抽出することができます。

- **GADM (Global Administrative Areas)**: GADMは、世界中の国と地域の行政区域の境界を提供するデータベースです。このデータベースからは、特定の国や地域の行政区域データを無料でダウンロードすることができます。

- **Natural Earth**: Natural Earthは、無料で利用できるベクトルとラスターの地図データを提供しており、行政区域のデータも含まれています。

### GISソフト

- **ArcGIS**: Esriによって開発された業界標準のGISソフトウェア。
- **QGIS**: オープンソースで無料のGISソフトウェアで、多くの機能を提供します。
- **Google Earth/Google Maps**: 地理的な情報を視覚化し分析するためのユーザーフレンドリーなツール。

QGISプロジェクトでは、日本のヘリコプターの会社も参画していて、ホント位置情報関連、奥が深いな、楽しい。

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/3868d850-9145-4442-b976-60adab1c2b50)

とりあえずこれ読みたい。

https://amzn.to/4aN8pzC

## 音声ARの難しさ

ポケモンGOで一躍注目をあつめた位置情報サービス。それ以前は、ガラケーの頃にも地域とからめた位置ゲーが流行っていましたけれど、どうも位置情報活用って、なかなか広がっていかないと思いません？

![aa](https://github.com/kagua/Open-Spot-AR/assets/631291/7475307d-ca3b-4878-81fe-d36b9b760619)

音声ARで調べるだけでもけっこうたくさん出てくることは出てくるのですよね。

- Locatone（ソニー）
- SARF（エイベックス）
- RoadVoice（ホンダ）
- SUBAROAD（スバル）
- EAR WE GO!（三井不動産・バスキュール・ＴＢＳラジオ）
- Radiho（ラジホ）（ＴＢＳラジオ・バスキュール）
- emorip（エモリップ）（Ｊ＆Ｊ※ＪＴＢとＪＣＢ共同出資）
- VOTORY（ボトリー）（中京テレビ・タジク）
- ウォークダブリューミュージック（バスキュール）
- バスキュールと協業でスクラッチ（電通）
- おもてなしガイド for BIZ（ヤマハ）
- Aero（アドビ）※ARアプリっぽいがGPSもいけるみたい
- LOOVIC（ルービック）（ルービック）
- Auris（オーリス）（ガタリ）
- HICity AR（羽田空港・オーリス/ガタリ）
- ヒントナビＡＲ（広島工業大学）
- マップエンジン（ジオマーク）
- Open Spot AR（音ワールド）
- 観光音声メタバースコンソーシアム（ソニー・ロケトーン／観光庁）
- DX推進による観光・地域経済活性化実証事業（国土交通省・観光庁）
- アレクサ ※音声ARではないが（アマゾン）
- 『友ヶ島』（独立系アプリ・和歌山市観光課）
- モダンケンチククロニクル（株式会社Vgo）
- まるっと神津島（独立系アプリ・合同会社FamiliA）
- まち景まち観フォーラム・茅ヶ崎（富士ゼロックス神奈川）※2018年終了

いっぽうで、マイクロソフトが展開していたSoundScapeは2022年でソニーとの連携をやめ、2023年からはオープンソースのプロジェクトとなった

https://github.com/microsoft/soundscape

マイクロソフトの動きに象徴されるように、多くは技術マターで現実世界の何か課題を、大きく解決するものとはなっていない、というところが現実だろう。

スマホが登場したときに様々なツールや社会変化が期待されたものの、アプリストアの市場の多くは、結局はゲームが占めている、というのと似ているかもしれない。音声ARも今のところ、技術中心で大きな企業が企画単位で動くものの、マスとして広がりを見せているかというと微妙だ。

観光ガイドのリプレースさえ進んでないのが現状ではないだろうか。つまり、そこにはテックで解決できる課題はそもそも無い、とも言えそうだ。

さて、そもそもそうした技術と現実の乖離において、音声ARがもともと持っている限界として、私は「エリア指定ができない」という点をあげたい。音声ARやカーナビなど含め位置情報の技術活用は、スポットとしての地点特定は得意なのだが、エリアをどう識別させるかがあまり進んでいないように思う。しかし、実際には、土地は区画によって整備されているし、災害においてはハザードマップが重要、というように私たちの生活においては、エリアという考え方のほうがしっくりくる。特定エリアに入ったら、音声ARで危険を知らせるなどは、地点特定のそれよりはるかに利用範囲は増えるように思う。

メタバースとともに、仮想空間を加工して現実世界を拡張する、現実世界の改修難易度を避ける施策は、どうしても奇策に見えてしまうのかもしれない。

そういう点で私のOpenSpotARは、かぎりなく趣味的に進めていこうと思う。技術レベルもそれくらいだと自覚はしている。

みなさんも何かアイデアや、解決できそうな課題があれば、どしどしご意見くださると嬉しい。

https://twitter.com/creator_enews

**追記**：ソニーのロケトーンは動画を見る限りは、だいたいのエリア指定（サークル状）はできるっぽく、やはりこなれてるなという印象。一般に開放してくれないかなー、ソニーさん。

https://www.youtube.com/watch?v=J4C4ad0e_Ro

**追記**：あとなにげにARに特化したWebメディアもあるっぽい。そして音声ARのカテゴリーも。OpenSpotARもリリース出せるところ結構ありそうな気がするけど、ほんとここまで大手やツアーもあるのに広まってない感じがするのは、ほんとバブルな感じがする。そういう意味では、Plus Codesに音声URLをペアにする、くらいのゆるさでいい気がしてきた。それならレガシーになりづらいはず。

https://ar-go.jp/media/tag/sound

## 2023年12月29日

Plus Codes 出力はいちおう実装できたのだけど、精度が14mの桁数しかできなかった。

調べればあるのかもしれないけれど、Googleマップで使われている3桁（7.5mかな）までやりたかったなー。

あと、今日は、2024年に向けて、コミュニティ作りの準備をした。Discord、わからないながらもポチポチいじってる。こういう設定型のものって、なんかサーバー立ち上げの頃を思い出す。なんか項目がやたらいっぱいあってよくわからない的な。

プログラムとかだったら動く動かない、動いても挙動おかしい、とかあるけれど、こういう設定系って都度都度テストして、そのとおりいくかっていう確認がほんと面倒だし、なのでネットでもなかなか全部をわかりやすく解説したまとまった情報もないんだよね。書籍なんかもAmazonで商業出版は1冊くらいしかない。

なんかうまく盛り上げたいなあ。

## 2023年12月27日

今日はちょっと停滞。調べ物を少しした。

https://developer.what3words.com/voice-api

what3words.com にVoiceApi、あるらしい。いつか使ってみたい。

https://future-architect.github.io/articles/20220726a/

Plus Code は、Apache License 2.0 らしい。良き。

https://github.com/google/open-location-code

Googleが公開してる。

Plus Codes は、これくらいの精度というか粒度で地点を算出している、なるほどねー。

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/d3af8f5e-98e0-40d7-b8da-5b4ba7ffcd50)

https://plus.codes/map

とりあえずここで、緯度経度わかって、Plus Codesがわかる。

## 2023年12月26日

いちおうデバイスを変えて、GPSの精度を調べてみた。左が、iPhoneSE（第2世代）、右が、Pixel7。

![0231225-122818](https://github.com/kagua/Open-Spot-AR/assets/631291/940ac48c-0645-4ddf-97f3-d17826c51247)

どちらも、Web版what3wordsを使って計測してみたのだけど、当たり前だけどズレはなかった。同じアプリだから。

OpenSpotARで計測した。まあこちらも10回計測しての中央値なので、同じになることはないのは当たり前なのだけど。

![20231225-123003](https://github.com/kagua/Open-Spot-AR/assets/631291/b66ea02f-b1e4-4dda-ad1a-3cf98936cb56)

とはいえ、そこそこいい感じには近い緯度経度になっているのではないかな。ブラウザといっても同じWebkitだからとかあるのかな。

## 2023年12月25日

英語表記と、MITライセンス表記を追加しました。OpenSpotARの特徴を本気で考えてみました。

- 位置情報に情報を、どこからでも書き込める
- 現実世界は一切汚すことがない
- その場所で困っている人、その場所に貢献したい人、その場所の価値を上げたい人、それぞれにメリットがある
- 修正や上書きが簡単（例として毎日通うお告げを再生するなど→これ完全に思い出の場所になるよ）
- URL利用なので限定公開にすれば、有料販売も簡単にできる

### セカイカメラとの違いも考えてみた

https://www.youtube.com/watch?v=Dew8hrL5zD8

セカイカメラは、2009年にリリースされた、iPhoneとAndroid向けの拡張現実（AR）アプリ、開発元は頓智ドット株式会社（トンチドット）。拡張現実としてカメラを現実にかざすだけでARが表示されます。

- 似ている点
  - エアタグというユーザーが投稿もできる
- 異なる点
  - アプリでない、高いスペックは必要ない
 
セカイカメラは世界中で注目を集めましたが普及には至りませんでした。コンテンツ不足や、スペックが要求されるなど言われていますが、やはりコンテンツが難しかったのかなと思います。やっぱり世間的には、ポケモンＧＯのように、わかりやすく、自分が知っているもの、というわかりやすいメリットがないと広がらないのかな、と思いました。

あとは、ビジネスとして展開したため、どうしても広告モデルなど収益を考える必要があったことも、終了に繋がったのかなと思います。また、表示される拡張現実は、上記の動画を見る限り、ごちゃごちゃとして収集がつかない印象を受けます。やっぱりシンプルなわかりやすさが伝わらないと、と思うのです（もちろん後出しジャンケンということは重々承知しています、アプリや概念や活動は本当にすばらしいものでリスペクトします）。

エアタグという仕組みはとてもすばらしいです。

## 2023年12月24日

緯度経度の記録用ページを追加しました。10回計測して、中央値を最後に表示します。

現場にいって、実際のスマホでスポットの位置情報を計測して、メインプログラムに使いましょう。

せっかくGPS記録用のページを作りましたので、他の地図アプリと比較してみました。

- what3words（ナビタイムが採用）
- PlusCode（GoogleMapsが採用）

![20231224194232](https://github.com/kagua/Open-Spot-AR/assets/631291/0cfdf64b-40c7-4140-a944-4f8ce6731282)

上図の場所で測ったときは、**GoogleMpas＞what3words＞OpenSpotAR**、の順で精度がよい感じです。他の場所でもだいたいこんな感じでした。

OpenSpotARで、緯度経度を取得しますと自動的にクリップボードに入りますので、その値を、what3words、GoogleMapsに貼り付けると、OpenSpotARで計測した位置が比較できます。UI的には、what3wordsのようにレーダーっぽくサークルを常に表示させますと、誤差も含めた地点把握がしやすいですね。

今回実装しました緯度経度のクリップボード自動格納をつかって、イベントの地点記録に役立ててください。

## 2023年12月23日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/f1899899-9aaa-441a-8801-ee5b0427cb22)

前述の記事にあるように、JavaScriptの位置情報取得のメソッドを、getCurrentPositionからwatchPositionにしてみたら、精度が向上しました。

getCurrentPositionで、誤差20m～50mだったものが、watchPositionですと、使い方は難しいものの、誤差は10m程度にあがりました。

というわけで、ようやく次のフェーズにいけそうです。記事著者に感謝です。

詳しくはブログに書きました。

JavaScriptで位置情報がズレるのを直した

https://www.kagua.biz/tool/javascript-tool/20231225a1.html

## 2023年12月22日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/b19398e6-2bce-4ee6-aff9-19250c862c45)

下３つの行が、室内で取得した位置情報です。誤差が10m以内で、非常に優秀です。

これを信じて、Open-Spot-AR の公開をしましたが、その上の行が屋外です。

屋外は、①を中心に西北東南2mに移動して、位置取得したのですが、もうすごい誤差です。

同一地点で計測しても、10m以上のばらつきがあります。

ブラウザでの位置情報取得が、ここまで精度が微妙だったとは。Googleマップがどれだけ優秀かがわかりました。

室内が異常値だったのか。

いや、自宅の前でも数mの誤差だったので、なぜだ・・・。

地域活性化イベントでこの精度だったら、大騒ぎだ。

あと、ブラウザで位置情報を取得していたら、何回か取得したら、まったく取得できなくなりました。

ブラウザ再起動ではダメで、Googleマップ起動でGPSを使って、またブラウザ再起動で正常になりました。

ブラウザが何か悪さをしているのかな・・・。調べないと。

## メソッドを変更してみる

getCurrentPosition は精度が出ないので watchPosition を使う。 - freefielder.jp

https://freefielder.jp/blog/2011/11/getcurrentposition-watchpositi.html

これをやってみる。どうやら、GPSを常にチェックしに行くメソッドっぽく、計測したら計測を止める処理も入れないといけないのだが、とりあえず5回計測してその平均で試してみたら、自宅で試したぶんには良さげだったので、明日リベンジ。

続く。
