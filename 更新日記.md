## 2023年12月22日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/b19398e6-2bce-4ee6-aff9-19250c862c45)

下３つの行が、室内で取得した位置情報です。誤差が10m以内で、非常に優秀です。

これを信じて、Open-Spot-AR の公開をしましたが、その上の行が屋外です。

屋外は、①を中心に西北東南2mに移動して、位置取得したのですが、もうすごい誤差です。

同一地点で計測しても、10m以上のばらつきがあります。

ブラウザでの位置情報取得が、ここまで精度が微妙だったとは。Googleマップがどれだけ優秀かがわかりました。

室内が異常値だったのか。

いや、自宅の前でも数mの誤差だったので、なぜだ・・・。

地域活性化イベントでこの精度だったら、大騒ぎだ。

あと、ブラウザで位置情報を取得していたら、何回か取得したら、まったく取得できなくなりました。

ブラウザ再起動ではダメで、Googleマップ起動でGPSを使って、またブラウザ再起動で正常になりました。

ブラウザが何か悪さをしているのかな・・・。調べないと。

## メソッドを変更してみる

getCurrentPosition は精度が出ないので watchPosition を使う。 - freefielder.jp

https://freefielder.jp/blog/2011/11/getcurrentposition-watchpositi.html

これをやってみる。どうやら、GPSを常にチェックしに行くメソッドっぽく、計測したら計測を止める処理も入れないといけないのだが、とりあえず5回計測してその平均で試してみたら、自宅で試したぶんには良さげだったので、明日リベンジ。

続く。
