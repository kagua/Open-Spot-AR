## 2024年1月15日

SONYのLocatoneをさわる機会がありました。せっかくなので、LocatoneとOpenSpotARの精度比較をしてみました。

あと、OpenSpotARで10回計測した緯度経度の中央値を、Plus Codesに変換したときの位置情報、3つで比較してみました。

![緯度経度調査](https://github.com/kagua/Open-Spot-AR/assets/631291/aeea8bd9-c49a-40d4-930d-8716943e046e)

Locatoneでも、スマホの機種や屋根の有る無しで精度が変わってくるわけですが、それでもこうした屋外ですと、やはり凄いです。私が立っている位置とほぼドンピシャでした。

OpenSpotARも緯度経度中央値も、それなりに健闘していますね。なので、まあ個人でやるぶんには、OpenSpotARの精度でも行けると思えました。

ところで、海外だとARと絡めないで、たんなる音声ガイドツアーのDXみたいな感じで、マーケットプレイスが成立している。検索フレーズとしては「Audio guides for tourist attractions」なるほどね。

https://voicemap.me/tour/barcelona/barcelona-walking-tour-landmarks-and-legends-of-el-born-and-ciutadella-park/sites

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/20399066-fe16-4f6e-a90a-f1a671edc862)

そうだよな。その場にいって、その場で再生で、いいものな。

## 2024年1月14日

人流などがわかるマップを調べました。調べるといろいろあるのですね、使えると楽しそうです。

### RESAS

https://resas.go.jp/traveltime-city/#/map/13/13101/0/8/9.881229721054606/35.76724754328527/139.77225257662946

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/2ca84150-e632-4920-8e93-171102e4854a)

### Yahoo!混雑レーダー

https://map.yahoo.co.jp/congestion?lat=35.72275&lon=139.73392&zoom=12&maptype=basic

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/99b96697-323c-4710-b459-3c5df8197bbf)

### モバイル空間統計

https://mobakumap.jp/#35.693157,139.704604,14z

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/ab647b8b-bb88-4ebc-a91b-180218507724)

使いかたがわかると楽しそうですね。ただ、人流だけをみるとやっぱり駅が圧倒的ですね。池袋・新宿・渋谷が圧倒的。このあたりで使えるツアーがやっぱりいいのかな。

### Mini Tokyo 3D

https://minitokyo3d.com/

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/36ab2c8a-f3a9-480e-bf42-c210ad6ffb6d)


## 2024年1月13日

オーディオ周りを調べた。

スマホを片手に音声を聴き散策をする。そのとき、知人と音声を共有したいというケースも多いはずだ。

ただ調べてみると、音声の共有というのはなかなかに難しいっぽい。たしかに、著作権的には共有となってしまうため、電波を送信する側には何らかの制限がつくのは想像にかたくない。

https://jp.creative.com/p/headphones-headsets/creative-zen-hybrid-pro

Bluetooth LEという規格がある。iPhoneには搭載されておらず、AndroidでもXperia1 Ⅳ、Xperia5 Ⅳだけのようだ。そして、LC3というコーデックに対応したヘッドフォン（イヤホン）が必要となる。これはかなりに壁が高そうだ。以前、aptX LLという低遅延の規格を調べたことがあったが、これも普及はほぼしていないといってよいくらいだ。

音声ARでは音を共有できない、と現状では実質言えそうだ。知人とであれば、エアポッズを片方づつ聴くのが現実的になりそうだ。

## 2024年1月8日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/2ec4a74b-dab5-40ca-bc6b-845ecb106dfa)

ARアプリも何気にひろがっているよね。マツケンサンバのキャンペーンがあって、コラボカフェでマークを読み取るとマツケンARが体験できるという。

https://document.styly.cc/doc/docs/en/experience/experience_intro/

STYLYというプラットフォーム、知らなかった。個人や非営利なら無料で使えるっぽい。活動としては2014年からやっているらしい、歴史ある。いっぽうで、10年近く活動していての現状、という意味ではやっぱりARとかメタバースとかVRって、そういうものだよなと感じる。いや、よくもわるくもだし、活動できているということは売上があるわけだから、それだけでリスペクトだし。

https://styly.cc/ja/pro/

ユーザー行動はこう。

- STYLEアプリを起動する
- マーカーの場所に行く
- スマホを出す
- アプリを起動する
- マーカーを読み取る
- スマホを見る

利用されているプラットフォームという安定感はある一方で、プラットフォーム依存ではある。ただ、画面で3DでARというのは、拡散が期待できるので、やはり強いなと感じた。

## 2024年1月6日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/36317572-a868-4cbf-a119-d61ec8a5297a)

ひさしぶりの更新。緯度経度で特定範囲（エリア）を指定できるのか調べたら、やっぱりすでに技術やスキームがあって、それなりに世界があることがわかった。ほんと面白い。

### 位置情報の特定範囲の指定

- **OpenStreetMap (OSM)**: OpenStreetMapは、ボランティアが作成し編集する無料の世界地図です。行政区域の境界データも提供しており、特定のツールを使用してこれらのデータを抽出することができます。

- **GADM (Global Administrative Areas)**: GADMは、世界中の国と地域の行政区域の境界を提供するデータベースです。このデータベースからは、特定の国や地域の行政区域データを無料でダウンロードすることができます。

- **Natural Earth**: Natural Earthは、無料で利用できるベクトルとラスターの地図データを提供しており、行政区域のデータも含まれています。

### GISソフト

- **ArcGIS**: Esriによって開発された業界標準のGISソフトウェア。
- **QGIS**: オープンソースで無料のGISソフトウェアで、多くの機能を提供します。
- **Google Earth/Google Maps**: 地理的な情報を視覚化し分析するためのユーザーフレンドリーなツール。

QGISプロジェクトでは、日本のヘリコプターの会社も参画していて、ホント位置情報関連、奥が深いな、楽しい。

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/3868d850-9145-4442-b976-60adab1c2b50)

とりあえずこれ読みたい。

https://amzn.to/4aN8pzC

## 音声ARの難しさ

ポケモンGOで一躍注目をあつめた位置情報サービス。それ以前は、ガラケーの頃にも地域とからめた位置ゲーが流行っていましたけれど、どうも位置情報活用って、なかなか広がっていかないと思いません？

![aa](https://github.com/kagua/Open-Spot-AR/assets/631291/7475307d-ca3b-4878-81fe-d36b9b760619)

音声ARで調べるだけでもけっこうたくさん出てくることは出てくるのですよね。

- ロケトーン（ソニー）
- サーフ（エイベックス）
- ロードボイス（ホンダ）
- スバロード（スバル）
- イヤウィゴー（博報堂）
- ラジホ（ＴＢＳラジオ）
- エモリップ（Ｊ＆Ｊ※ＪＴＢとＪＣＢ共同出資）
- ボトリー（中京テレビ）
- ウォークダブリューミュージック（バスキュール）
- バスキュールと協業でスクラッチ（電通）
- おもてなしガイド for BIZ（ヤマハ）
- Aero（アドビ）※ARアプリっぽいがGPSもいけるみたい
- ルービック（ルービック）
- オーリス（ガタリ）
- ヒントナビＡＲ（広島工業大学）
- マップエンジン（ジオマーク）
- 観光音声メタバースコンソーシアム（ソニー・ロケトーン／観光庁）
- DX推進による観光・地域経済活性化実証事業（国土交通省・観光庁）
- アレクサ ※音声ARではないが（アマゾン）
- 『友ヶ島』（独立系アプリ・和歌山市観光課）

いっぽうで、マイクロソフトが展開していたSoundScapeは2022年でソニーとの連携をやめ、2023年からはオープンソースのプロジェクトとなった

https://github.com/microsoft/soundscape

マイクロソフトの動きに象徴されるように、多くは技術マターで現実世界の何か課題を、大きく解決するものとはなっていない、というところが現実だろう。

スマホが登場したときに様々なツールや社会変化が期待されたものの、アプリストアの市場の多くは、結局はゲームが占めている、というのと似ているかもしれない。音声ARも今のところ、技術中心で大きな企業が企画単位で動くものの、マスとして広がりを見せているかというと微妙だ。

観光ガイドのリプレースさえ進んでないのが現状ではないだろうか。つまり、そこにはテックで解決できる課題はそもそも無い、とも言えそうだ。

さて、そもそもそうした技術と現実の乖離において、音声ARがもともと持っている限界として、私は「エリア指定ができない」という点をあげたい。音声ARやカーナビなど含め位置情報の技術活用は、スポットとしての地点特定は得意なのだが、エリアをどう識別させるかがあまり進んでいないように思う。しかし、実際には、土地は区画によって整備されているし、災害においてはハザードマップが重要、というように私たちの生活においては、エリアという考え方のほうがしっくりくる。特定エリアに入ったら、音声ARで危険を知らせるなどは、地点特定のそれよりはるかに利用範囲は増えるように思う。

メタバースとともに、仮想空間を加工して現実世界を拡張する、現実世界の改修難易度を避ける施策は、どうしても奇策に見えてしまうのかもしれない。

そういう点で私のOpenSpotARは、かぎりなく趣味的に進めていこうと思う。技術レベルもそれくらいだと自覚はしている。

みなさんも何かアイデアや、解決できそうな課題があれば、どしどしご意見くださると嬉しい。

https://twitter.com/creator_enews

**追記**：ソニーのロケトーンは動画を見る限りは、だいたいのエリア指定（サークル状）はできるっぽく、やはりこなれてるなという印象。一般に開放してくれないかなー、ソニーさん。

https://www.youtube.com/watch?v=J4C4ad0e_Ro

**追記**：あとなにげにARに特化したWebメディアもあるっぽい。そして音声ARのカテゴリーも。OpenSpotARもリリース出せるところ結構ありそうな気がするけど、ほんとここまで大手やツアーもあるのに広まってない感じがするのは、ほんとバブルな感じがする。そういう意味では、Plus Codesに音声URLをペアにする、くらいのゆるさでいい気がしてきた。それならレガシーになりづらいはず。

https://ar-go.jp/media/tag/sound

## 2023年12月29日

Plus Codes 出力はいちおう実装できたのだけど、精度が14mの桁数しかできなかった。

調べればあるのかもしれないけれど、Googleマップで使われている3桁（7.5mかな）までやりたかったなー。

あと、今日は、2024年に向けて、コミュニティ作りの準備をした。Discord、わからないながらもポチポチいじってる。こういう設定型のものって、なんかサーバー立ち上げの頃を思い出す。なんか項目がやたらいっぱいあってよくわからない的な。

プログラムとかだったら動く動かない、動いても挙動おかしい、とかあるけれど、こういう設定系って都度都度テストして、そのとおりいくかっていう確認がほんと面倒だし、なのでネットでもなかなか全部をわかりやすく解説したまとまった情報もないんだよね。書籍なんかもAmazonで商業出版は1冊くらいしかない。

なんかうまく盛り上げたいなあ。

## 2023年12月27日

今日はちょっと停滞。調べ物を少しした。

https://developer.what3words.com/voice-api

what3words.com にVoiceApi、あるらしい。いつか使ってみたい。

https://future-architect.github.io/articles/20220726a/

Plus Code は、Apache License 2.0 らしい。良き。

https://github.com/google/open-location-code

Googleが公開してる。

Plus Codes は、これくらいの精度というか粒度で地点を算出している、なるほどねー。

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/d3af8f5e-98e0-40d7-b8da-5b4ba7ffcd50)

https://plus.codes/map

とりあえずここで、緯度経度わかって、Plus Codesがわかる。

## 2023年12月26日

いちおうデバイスを変えて、GPSの精度を調べてみた。左が、iPhoneSE（第2世代）、右が、Pixel7。

![0231225-122818](https://github.com/kagua/Open-Spot-AR/assets/631291/940ac48c-0645-4ddf-97f3-d17826c51247)

どちらも、Web版what3wordsを使って計測してみたのだけど、当たり前だけどズレはなかった。同じアプリだから。

OpenSpotARで計測した。まあこちらも10回計測しての中央値なので、同じになることはないのは当たり前なのだけど。

![20231225-123003](https://github.com/kagua/Open-Spot-AR/assets/631291/b66ea02f-b1e4-4dda-ad1a-3cf98936cb56)

とはいえ、そこそこいい感じには近い緯度経度になっているのではないかな。ブラウザといっても同じWebkitだからとかあるのかな。

## 2023年12月25日

英語表記と、MITライセンス表記を追加しました。OpenSpotARの特徴を本気で考えてみました。

- 位置情報に情報を、どこからでも書き込める
- 現実世界は一切汚すことがない
- その場所で困っている人、その場所に貢献したい人、その場所の価値を上げたい人、それぞれにメリットがある
- 修正や上書きが簡単（例として毎日通うお告げを再生するなど→これ完全に思い出の場所になるよ）
- URL利用なので限定公開にすれば、有料販売も簡単にできる

### セカイカメラとの違いも考えてみた

https://www.youtube.com/watch?v=Dew8hrL5zD8

セカイカメラは、2009年にリリースされた、iPhoneとAndroid向けの拡張現実（AR）アプリ、開発元は頓智ドット株式会社（トンチドット）。拡張現実としてカメラを現実にかざすだけでARが表示されます。

- 似ている点
  - エアタグというユーザーが投稿もできる
- 異なる点
  - アプリでない、高いスペックは必要ない
 
セカイカメラは世界中で注目を集めましたが普及には至りませんでした。コンテンツ不足や、スペックが要求されるなど言われていますが、やはりコンテンツが難しかったのかなと思います。やっぱり世間的には、ポケモンＧＯのように、わかりやすく、自分が知っているもの、というわかりやすいメリットがないと広がらないのかな、と思いました。

あとは、ビジネスとして展開したため、どうしても広告モデルなど収益を考える必要があったことも、終了に繋がったのかなと思います。また、表示される拡張現実は、上記の動画を見る限り、ごちゃごちゃとして収集がつかない印象を受けます。やっぱりシンプルなわかりやすさが伝わらないと、と思うのです（もちろん後出しジャンケンということは重々承知しています、アプリや概念や活動は本当にすばらしいものでリスペクトします）。

エアタグという仕組みはとてもすばらしいです。

## 2023年12月24日

緯度経度の記録用ページを追加しました。10回計測して、中央値を最後に表示します。

現場にいって、実際のスマホでスポットの位置情報を計測して、メインプログラムに使いましょう。

せっかくGPS記録用のページを作りましたので、他の地図アプリと比較してみました。

- what3words（ナビタイムが採用）
- PlusCode（GoogleMapsが採用）

![20231224194232](https://github.com/kagua/Open-Spot-AR/assets/631291/0cfdf64b-40c7-4140-a944-4f8ce6731282)

上図の場所で測ったときは、**GoogleMpas＞what3words＞OpenSpotAR**、の順で精度がよい感じです。他の場所でもだいたいこんな感じでした。

OpenSpotARで、緯度経度を取得しますと自動的にクリップボードに入りますので、その値を、what3words、GoogleMapsに貼り付けると、OpenSpotARで計測した位置が比較できます。UI的には、what3wordsのようにレーダーっぽくサークルを常に表示させますと、誤差も含めた地点把握がしやすいですね。

今回実装しました緯度経度のクリップボード自動格納をつかって、イベントの地点記録に役立ててください。

## 2023年12月23日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/f1899899-9aaa-441a-8801-ee5b0427cb22)

前述の記事にあるように、JavaScriptの位置情報取得のメソッドを、getCurrentPositionからwatchPositionにしてみたら、精度が向上しました。

getCurrentPositionで、誤差20m～50mだったものが、watchPositionですと、使い方は難しいものの、誤差は10m程度にあがりました。

というわけで、ようやく次のフェーズにいけそうです。記事著者に感謝です。

詳しくはブログに書きました。

JavaScriptで位置情報がズレるのを直した

https://www.kagua.biz/tool/javascript-tool/20231225a1.html

## 2023年12月22日

![image](https://github.com/kagua/Open-Spot-AR/assets/631291/b19398e6-2bce-4ee6-aff9-19250c862c45)

下３つの行が、室内で取得した位置情報です。誤差が10m以内で、非常に優秀です。

これを信じて、Open-Spot-AR の公開をしましたが、その上の行が屋外です。

屋外は、①を中心に西北東南2mに移動して、位置取得したのですが、もうすごい誤差です。

同一地点で計測しても、10m以上のばらつきがあります。

ブラウザでの位置情報取得が、ここまで精度が微妙だったとは。Googleマップがどれだけ優秀かがわかりました。

室内が異常値だったのか。

いや、自宅の前でも数mの誤差だったので、なぜだ・・・。

地域活性化イベントでこの精度だったら、大騒ぎだ。

あと、ブラウザで位置情報を取得していたら、何回か取得したら、まったく取得できなくなりました。

ブラウザ再起動ではダメで、Googleマップ起動でGPSを使って、またブラウザ再起動で正常になりました。

ブラウザが何か悪さをしているのかな・・・。調べないと。

## メソッドを変更してみる

getCurrentPosition は精度が出ないので watchPosition を使う。 - freefielder.jp

https://freefielder.jp/blog/2011/11/getcurrentposition-watchpositi.html

これをやってみる。どうやら、GPSを常にチェックしに行くメソッドっぽく、計測したら計測を止める処理も入れないといけないのだが、とりあえず5回計測してその平均で試してみたら、自宅で試したぶんには良さげだったので、明日リベンジ。

続く。
